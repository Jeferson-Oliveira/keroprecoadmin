-- Table: public.produtos

-- DROP TABLE public.produtos;

CREATE TABLE public.produtos
(
    idproduto bigint NOT NULL DEFAULT nextval('"produtos_idProduto_seq"'::regclass),
    nome character varying(250) COLLATE pg_catalog."default" NOT NULL,
    categoria character varying(250) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT produtos_pkey PRIMARY KEY (idproduto)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.produtos
    OWNER to postgres;


----------------------------------------------------------------------------------

-- Table: public.supermercados

-- DROP TABLE public.supermercados;

CREATE TABLE public.supermercados
(
    idsupermercado bigint NOT NULL DEFAULT nextval('"supermercado_idSupermercado_seq"'::regclass),
    nome character varying(250) COLLATE pg_catalog."default" NOT NULL,
    localizacao character varying(250) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT supermercado_pkey PRIMARY KEY (idsupermercado)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.supermercados
    OWNER to postgres;


-----------------------------------------------------------------------------

-- Table: public.usuarios

-- DROP TABLE public.usuarios;

CREATE TABLE public.usuarios
(
    idusuario bigint NOT NULL DEFAULT nextval('"usuarios_idUsuario_seq"'::regclass),
    nome character varying(250) COLLATE pg_catalog."default" NOT NULL,
    login character varying(250) COLLATE pg_catalog."default" NOT NULL,
    senha character varying(250) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT usuarios_pkey PRIMARY KEY (idusuario)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.usuarios
    OWNER to postgres;


------------------------------------------------------------------------------------

-- Table: public."produtosSupermercado"

-- DROP TABLE public."produtosSupermercado";

CREATE TABLE public."produtosSupermercado"
(
    idprodutosupermercado bigint NOT NULL DEFAULT nextval('"produtosSupermercado_idProdutoSupermercado_seq"'::regclass),
    fkidproduto bigint NOT NULL,
    fkidsupermercado bigint NOT NULL,
    CONSTRAINT "produtosSupermercado_pkey" PRIMARY KEY (idprodutosupermercado),
    CONSTRAINT produto FOREIGN KEY (fkidproduto)
        REFERENCES public.produtos (idproduto) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT supermercado FOREIGN KEY (fkidsupermercado)
        REFERENCES public.supermercados (idsupermercado) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."produtosSupermercado"
    OWNER to postgres;

---------------------------------------------------------------------------------------------

INSERT INTO public.usuarios (nome , login , senha) VALUES ('Administrador','admin' ,'admin') 